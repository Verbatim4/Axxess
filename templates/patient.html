<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #68c157;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        #scoreboard, #progress-container {
            font-size: 24px;
            margin-bottom: 20px;
        }
        #tree-container {
            margin: 20px auto;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background-size: contain;
            background-color: white;
            background-repeat: no-repeat;
            background-position: center;
            border: 10px solid #4eae3b;
        }
        .question-container {
            margin: 20px auto;
            padding: 15px;
            background-color: #68c157;
            display: inline-block;
            max-width: 400px;
            text-align: left;
        }
        #question {
            color: white;
            font-family:'Times New Roman', Times, serif;
            font-size: 20px;
            margin-bottom: 15px;
        }
        .option-button {
            padding: 10px 20px;
            margin: 5px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 4px;
            width: 100%;
            font-size: 16px;
            }
            .option-button:hover {
            background-color: #45a049;
            }
            #progress-bar {
            width: 0%;
            height: 30px;
            background-color: #4caf50;
            text-align: center;
            line-height: 30px;
            color: white;
            transition: width 0.4s ease-in-out;
            }
            #progress-container {
            width: 80%;
            background-color: #ddd;
            margin: 20px auto;
            border-radius: 4px;
            overflow: hidden;
            }   

    </style>
</head>

<body>

  <div id="scoreboard">Tokens: <span id="tokenCount">0</span></div>
  <div id="progress-container">
    <div id="progress-bar">0/5</div>
  </div>
  <div id="tree-container"></div>

  <div class="question-container">
    <div id="question">Question will appear here</div>
    <div id="options"></div>
  </div>

  <script>
    const questions = [
      { question: "Did you take your meds today?", options: ["Yes", "No"], answer: 0 },
      { question: "Did you eat your food today?", options: ["Yes", "No"], answer: 0 },
      { question: "Did you sleep?", options: ["Yes", "No"], answer: 0 }
    ];

    let tokens = 0;
    let currentQuestionIndex = 0;
    let treeStage = 0;
    const tokenThreshold = 5;

    // Placeholder tree images. Replace these with actual URLs for tree growth stages.
    const treeImages = [
      'file:///C:/Users/vonat/OneDrive/Desktop/Stage_1.png', 
      'file:///C:/Users/vonat/OneDrive/Desktop/Stage_2.png', 
      'file:///C:/Users/vonat/OneDrive/Desktop/Stage_3.png',
      'file:///C:/Users/vonat/OneDrive/Desktop/Stage_4.png',
      'file:///C:/Users/vonat/OneDrive/Desktop/Stage_5.png'
    ];

    const tokenCountSpan = document.getElementById('tokenCount');
    const progressBar = document.getElementById('progress-bar');
    const treeContainer = document.getElementById('tree-container');
    const questionDiv = document.getElementById('question');
    const optionsDiv = document.getElementById('options');

    function updateScoreboard() {
      tokenCountSpan.textContent = tokens;
      progressBar.style.width = `${(tokens % tokenThreshold) / tokenThreshold * 100}%`;
      progressBar.textContent = `${tokens % tokenThreshold}/${tokenThreshold}`;
    }

    function updateTree() {
      treeContainer.style.backgroundImage = `url(${treeImages[treeStage]})`;
      if (tokens % tokenThreshold === 0 && tokens !== 0) {
        alert(`Congratulations! Your tree has grown to the next stage.`);
      }
    }

    function loadQuestion() {
      if (currentQuestionIndex >= questions.length) {
        currentQuestionIndex = 0;
      }
      const currentQuestion = questions[currentQuestionIndex];
      questionDiv.textContent = currentQuestion.question;
      optionsDiv.innerHTML = '';
      currentQuestion.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.classList.add('option-button');
        button.textContent = option;
        button.onclick = () => checkAnswer(index);
        optionsDiv.appendChild(button);
      });
    }

    function checkAnswer(selectedIndex) {
      const currentQuestion = questions[currentQuestionIndex];
      if (selectedIndex === currentQuestion.answer) {
        tokens++;
        if (tokens % tokenThreshold === 0 && treeStage < treeImages.length - 1) {
          treeStage++;
        }
        updateTree();
      } else {
        alert("Incorrect. The correct answer is always 'Yes'.");
      }
      updateScoreboard();
      currentQuestionIndex++;
      loadQuestion();
    }

    updateScoreboard();
    updateTree();
    loadQuestion();
  </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html>